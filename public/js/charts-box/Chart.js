window.ChartCalculator=function(e){function t(e,t){for(var a=0;a<e.datasets.length;a++){for(var o=[],l=0;l<e.datasets[a].data.length;l++){for(var r=e.datasets[a].data[l],n=r.length,i=0,s=0;n>s;s++)i+=r[s];var d=i/n;if(e.datasets[a].data[l]=d,t.error){if("range"==t.error){r.sort(function(e,t){return e-t});var c=r[n-1],u=c-d}else if("stdev"==t.error&&n>2){for(var i=0,s=0;n>s;s++)i+=Math.pow(r[s]-d,2);var u=Math.sqrt(i/(n-1))}o.push(u)}}t.error&&(e.datasets[a].error=o)}return e}this.Box=function(t,a){for(var o=0;o<t.datasets.length;o++)for(var l=0;l<t.datasets[o].data.length;l++){var r=t.datasets[o].data[l];r.sort(function(e,t){return e-t});var n=r.length,i=r[0],s=Math.floor(n/2);if(n%2==1)var d=r[s];else var d=(r[s]+r[s+1])/2;var c=Math.floor(n/4)+1,u=Math.floor(3*n/4),h=r[c],S=r[u],f=r[n-1];qArr=[i,h,d,S,f],t.datasets[o].data[l]=qArr}return new Chart(e).Box(t,a)},this.Bar=function(a,o){var l=t(a,o);return new Chart(e).Bar(l,o)},this.Line=function(a,o){var l=t(a,o);return new Chart(e).Line(l,o)},this.Scatter=function(a,o){var l=t(a,o);return new Chart(e).Scatter(l,o)}},window.Chart=function(e){function t(e,t,a){var o=t.steps*t.stepValue,l=e-t.graphMin,r=c(l/o,1,0);return a*t.steps*r}function a(e,t,a,o){function l(){var l=e.animation?c(i(s),null,0):1;m(o),e.scaleOverlay?(a(l),t()):(t(),a(l))}function r(){s+=n,l(),1>=s?y(r):"function"==typeof e.onAnimationComplete&&e.onAnimationComplete()}var n=e.animation?1/c(e.animationSteps,Number.MAX_VALUE,1):1,i=b[e.animationEasing],s=e.animation?0:1;"function"!=typeof t&&(t=function(){}),y(r)}function o(e,t,a,o,r,n){var i,s,d,c,u,h,S;for(h=o-r,S=Math.floor(Math.log(h)/Math.LN10),i=Math.floor(r/(1*Math.pow(10,S)))*Math.pow(10,S),s=Math.ceil(o/(1*Math.pow(10,S)))*Math.pow(10,S),d=s-i,c=Math.pow(10,S),u=Math.round(d/c);a>u||u>t;)a>u?(c/=2,u=Math.round(d/c)):(c*=2,u=Math.round(d/c));var f=[];return l(n,f,u,i,c),{steps:u,stepValue:c,graphMin:i,labels:f}}function l(e,t,a,o,l){if(e)for(var r=1;a+1>r;r++)t.push(S(e,{value:(o+l*r).toFixed(u(l))}))}function r(e){return Math.max.apply(Math,e)}function n(e){return Math.min.apply(Math,e)}function s(e,t){return e?e:t}function d(e){return!isNaN(parseFloat(e))&&isFinite(e)}function c(e,t,a){return d(t)&&e>t?t:d(a)&&a>e?a:e}function u(e){return e%1!=0?e.toString().split(".")[1].length:0}function h(e,t){var a={};for(var o in e)a[o]=e[o];for(var o in t)a[o]=t[o];return a}function S(e,t){var a=/\W/.test(e)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+e.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):M[e]=M[e]||S(document.getElementById(e).innerHTML);return t?a(t):a}var f=this,b={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-1*e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-0.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1*((e=e/1-1)*e*e+1)},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-1*((e=e/1-1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return 1*(e/=1)*e*e*e*e},easeOutQuint:function(e){return 1*((e=e/1-1)*e*e*e*e+1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return-1*Math.cos(e/1*(Math.PI/2))+1},easeOutSine:function(e){return 1*Math.sin(e/1*(Math.PI/2))},easeInOutSine:function(e){return-0.5*(Math.cos(Math.PI*e/1)-1)},easeInExpo:function(e){return 0==e?1:1*Math.pow(2,10*(e/1-1))},easeOutExpo:function(e){return 1==e?1:1*(-Math.pow(2,-10*e/1)+1)},easeInOutExpo:function(e){return 0==e?0:1==e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(-Math.pow(2,-10*--e)+2)},easeInCirc:function(e){return e>=1?e:-1*(Math.sqrt(1-(e/=1)*e)-1)},easeOutCirc:function(e){return 1*Math.sqrt(1-(e=e/1-1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,a=0,o=1;if(0==e)return 0;if(1==(e/=1))return 1;if(a||(a=.3),o<Math.abs(1)){o=1;var t=a/4}else var t=a/(2*Math.PI)*Math.asin(1/o);return-(o*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/a))},easeOutElastic:function(e){var t=1.70158,a=0,o=1;if(0==e)return 0;if(1==(e/=1))return 1;if(a||(a=.3),o<Math.abs(1)){o=1;var t=a/4}else var t=a/(2*Math.PI)*Math.asin(1/o);return o*Math.pow(2,-10*e)*Math.sin(2*(1*e-t)*Math.PI/a)+1},easeInOutElastic:function(e){var t=1.70158,a=0,o=1;if(0==e)return 0;if(2==(e/=.5))return 1;if(a||(a=.3*1.5),o<Math.abs(1)){o=1;var t=a/4}else var t=a/(2*Math.PI)*Math.asin(1/o);return 1>e?-.5*o*Math.pow(2,10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/a):o*Math.pow(2,-10*(e-=1))*Math.sin(2*(1*e-t)*Math.PI/a)*.5+1},easeInBack:function(e){var t=1.70158;return 1*(e/=1)*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return 1*((e=e/1-1)*e*((t+1)*e+t)+1)},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?.5*e*e*(((t*=1.525)+1)*e-t):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:function(e){return 1-b.easeOutBounce(1-e)},easeOutBounce:function(e){return(e/=1)<1/2.75?7.5625*e*e:2/2.75>e?1*(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1*(7.5625*(e-=2.25/2.75)*e+.9375):1*(7.5625*(e-=2.625/2.75)*e+.984375)},easeInOutBounce:function(e){return.5>e?.5*b.easeInBounce(2*e):.5*b.easeOutBounce(2*e-1)+.5}},p=e.canvas.width,v=e.canvas.height;window.devicePixelRatio&&(e.canvas.style.width=p+"px",e.canvas.style.height=v+"px",e.canvas.height=v*window.devicePixelRatio,e.canvas.width=p*window.devicePixelRatio,e.scale(window.devicePixelRatio,window.devicePixelRatio)),this.PolarArea=function(t,a){f.PolarArea.defaults={scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var o=a?h(f.PolarArea.defaults,a):f.PolarArea.defaults;return new g(t,o,e)},this.Radar=function(t,a){f.Radar.defaults={scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var o=a?h(f.Radar.defaults,a):f.Radar.defaults;return new k(t,o,e)},this.Pie=function(t,a){f.Pie.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var o=a?h(f.Pie.defaults,a):f.Pie.defaults;return new L(t,o,e)},this.Doughnut=function(t,a){f.Doughnut.defaults={segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null};var o=a?h(f.Doughnut.defaults,a):f.Doughnut.defaults;return new F(t,o,e)},this.Line=function(t,a){f.Line.defaults={chartType:"Line",errorStrokeWidth:1,errorStrokeColor:"#333",errorCapWidth:2,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowStartValue:!1,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleLabelPosition:"left",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",labelsFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,bezierCurve:!1,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var o=a?h(f.Line.defaults,a):f.Line.defaults;return new w(t,o,e)},this.Scatter=function(t,a){f.Line.defaults={chartType:"Scatter",errorStrokeWidth:1,errorStrokeColor:"#333",errorCapWidth:2,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,xScaleOverride:!1,xScaleSteps:null,xScaleStepWidth:null,xScaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,connectingLine:!1,bezierCurve:!1,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var o=a?h(f.Line.defaults,a):f.Line.defaults,l=[];if(o.xScaleOverride){var r=o.xScaleStartValue;for(i=0;i<o.xScaleSteps;i++)l.push(r),r+=o.xScaleStepWidth}return t.labels=l,new w(t,o,e)},this.Bar=function(t,a){f.Bar.defaults={chartType:"Bar",errorStrokeWidth:5,errorStrokeColor:"#333",errorCapWidth:.75,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowLabels:!1,barLabelFormatter:function(e){return e},barLabelFontFamily:"'Arial'",barLabelFontSize:12,barLabelFontStyle:"normal",barLabelFontColor:"#666",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null};var o=a?h(f.Bar.defaults,a):f.Bar.defaults;return new W(t,o,e)},this.Box=function(t,a){f.Bar.defaults={chartType:"Box",showWhiskers:!0,whiskerWidth:!1,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,barShowLabels:!1,barLabelFormatter:function(e){return e},barLabelFontFamily:"'Arial'",barLabelFontSize:12,barLabelFontStyle:"normal",barLabelFontColor:"#666",barShowStroke:!0,barStrokeWidth:5,barValueSpacing:5,barDatasetSpacing:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,outlierShowLabels:!0,outlierLabelFormatter:function(e){return e},outlierLabelFontFamily:"'Arial'",outlierLabelFontStyle:"normal",outlierLabelFontSize:12,outlierLabelFontColor:"#666",outlierLabelPlacement:"right",outlierLabelMargin:2,outlierDotStyle:"disc",outlierDotFillColor:"#666",outlierDotRadius:2,outlierDotStrokeWidth:2,outlierDotStrokeColor:"#666"};var o=a?h(f.Bar.defaults,a):f.Bar.defaults;return new W(t,o,e)};var m=function(e){e.clearRect(0,0,p,v)},g=function(e,i,d){function c(){f=n([p,v])/2,f-=r([.5*i.scaleFontSize,.5*i.scaleLineWidth]),g=2*i.scaleFontSize,i.scaleShowLabelBackdrop&&(g+=2*i.scaleBackdropPaddingY,f-=1.5*i.scaleBackdropPaddingY),k=f,g=s(g,5)}function u(){for(var e=0;e<m.steps;e++)if(i.scaleShowLine&&(d.beginPath(),d.arc(p/2,v/2,b*(e+1),0,2*Math.PI,!0),d.strokeStyle=i.scaleLineColor,d.lineWidth=i.scaleLineWidth,d.stroke()),i.scaleShowLabels){d.textAlign="center",d.font=i.scaleFontStyle+" "+i.scaleFontSize+"px "+i.scaleFontFamily;var t=m.labels[e];if(i.scaleShowLabelBackdrop){var a=d.measureText(t).width;d.fillStyle=i.scaleBackdropColor,d.beginPath(),d.rect(Math.round(p/2-a/2-i.scaleBackdropPaddingX),Math.round(v/2-b*(e+1)-.5*i.scaleFontSize-i.scaleBackdropPaddingY),Math.round(a+2*i.scaleBackdropPaddingX),Math.round(i.scaleFontSize+2*i.scaleBackdropPaddingY)),d.fill()}d.textBaseline="middle",d.fillStyle=i.scaleFontColor,d.fillText(t,p/2,v/2-b*(e+1))}}function h(a){var o=-Math.PI/2,l=2*Math.PI/e.length,r=1,n=1;i.animation&&(i.animateScale&&(r=a),i.animateRotate&&(n=a));for(var s=0;s<e.length;s++)d.beginPath(),d.arc(p/2,v/2,r*t(e[s].value,m,b),o,o+n*l,!1),d.lineTo(p/2,v/2),d.closePath(),d.fillStyle=e[s].color,d.fill(),i.segmentShowStroke&&(d.strokeStyle=i.segmentStrokeColor,d.lineWidth=i.segmentStrokeWidth,d.stroke()),o+=n*l}function S(){for(var t=Number.MIN_VALUE,a=Number.MAX_VALUE,o=0;o<e.length;o++)e[o].value>t&&(t=e[o].value),e[o].value<a&&(a=e[o].value);var l=Math.floor(k/(.66*g)),r=Math.floor(k/g*.5);return{maxValue:t,minValue:a,maxSteps:l,minSteps:r}}var f,b,m,g,k,L,F;c(),L=S(),F=i.scaleShowLabels?i.scaleLabel:null,i.scaleOverride?(m={steps:i.scaleSteps,stepValue:i.scaleStepWidth,graphMin:i.scaleStartValue,labels:[]},l(F,m.labels,m.steps,i.scaleStartValue,i.scaleStepWidth)):m=o(k,L.maxSteps,L.minSteps,L.maxValue,L.minValue,F),b=f/m.steps,a(i,u,h,d)},k=function(e,i,d){function u(a){var o=2*Math.PI/e.datasets[0].data.length;d.save(),d.translate(p/2,v/2);for(var l=i.datasetStroke&&i.datasetStrokeWidth,r=0;r<e.datasets.length;r++){d.beginPath(),d.moveTo(0,-1*a*t(e.datasets[r].data[0],g,m));for(var n=1;n<e.datasets[r].data.length;n++)d.rotate(o),d.lineTo(0,-1*a*t(e.datasets[r].data[n],g,m));if(d.closePath(),d.fillStyle=e.datasets[r].fillColor,d.strokeStyle=e.datasets[r].strokeColor,d.lineWidth=l,d.fill(),d.stroke(),i.pointDot){d.fillStyle=e.datasets[r].pointColor,d.strokeStyle=e.datasets[r].pointStrokeColor,d.lineWidth=i.pointDotStrokeWidth;for(var s=0;s<e.datasets[r].data.length;s++)d.rotate(o),d.beginPath(),d.arc(0,-1*a*t(e.datasets[r].data[s],g,m),i.pointDotRadius,2*Math.PI,!1),d.fill(),d.stroke()}d.rotate(o)}d.restore()}function h(){var t=2*Math.PI/e.datasets[0].data.length;if(d.save(),d.translate(p/2,v/2),i.angleShowLineOut){d.strokeStyle=i.angleLineColor,d.lineWidth=i.angleLineWidth;for(var a=0;a<e.datasets[0].data.length;a++)d.rotate(t),d.beginPath(),d.moveTo(0,0),d.lineTo(0,-b),d.stroke()}for(var o=0;o<g.steps;o++){if(d.beginPath(),i.scaleShowLine){d.strokeStyle=i.scaleLineColor,d.lineWidth=i.scaleLineWidth,d.moveTo(0,-m*(o+1));for(var l=0;l<e.datasets[0].data.length;l++)d.rotate(t),d.lineTo(0,-m*(o+1));d.closePath(),d.stroke()}if(i.scaleShowLabels){if(d.textAlign="center",d.font=i.scaleFontStyle+" "+i.scaleFontSize+"px "+i.scaleFontFamily,d.textBaseline="middle",i.scaleShowLabelBackdrop){var r=d.measureText(g.labels[o]).width;d.fillStyle=i.scaleBackdropColor,d.beginPath(),d.rect(Math.round(-r/2-i.scaleBackdropPaddingX),Math.round(-m*(o+1)-.5*i.scaleFontSize-i.scaleBackdropPaddingY),Math.round(r+2*i.scaleBackdropPaddingX),Math.round(i.scaleFontSize+2*i.scaleBackdropPaddingY)),d.fill()}d.fillStyle=i.scaleFontColor,d.fillText(g.labels[o],0,-m*(o+1))}}for(var n=0;n<e.labels.length;n++){d.font=i.pointLabelFontStyle+" "+i.pointLabelFontSize+"px "+i.pointLabelFontFamily,d.fillStyle=i.pointLabelFontColor;var s=Math.sin(t*n)*(b+i.pointLabelFontSize),c=Math.cos(t*n)*(b+i.pointLabelFontSize);d.textAlign=t*n==Math.PI||t*n==0?"center":t*n>Math.PI?"right":"left",d.textBaseline="middle",d.fillText(e.labels[n],s,-c)}d.restore()}function S(){b=n([p,v])/2,k=2*i.scaleFontSize;for(var t=0,a=0;a<e.labels.length;a++){d.font=i.pointLabelFontStyle+" "+i.pointLabelFontSize+"px "+i.pointLabelFontFamily;var o=d.measureText(e.labels[a]).width;o>t&&(t=o)}b-=r([t,i.pointLabelFontSize/2*1.5]),b-=i.pointLabelFontSize,b=c(b,null,0),L=b,k=s(k,5)}function f(){for(var t=Number.MIN_VALUE,a=Number.MAX_VALUE,o=0;o<e.datasets.length;o++)for(var l=0;l<e.datasets[o].data.length;l++)e.datasets[o].data[l]>t&&(t=e.datasets[o].data[l]),e.datasets[o].data[l]<a&&(a=e.datasets[o].data[l]);var r=Math.floor(L/(.66*k)),n=Math.floor(L/k*.5);return{maxValue:t,minValue:a,maxSteps:r,minSteps:n}}var b,m,g,k,L,F,w;e.labels||(e.labels=[]),S();var F=f();w=i.scaleShowLabels?i.scaleLabel:null,i.scaleOverride?(g={steps:i.scaleSteps,stepValue:i.scaleStepWidth,graphMin:i.scaleStartValue,labels:[]},l(w,g.labels,g.steps,i.scaleStartValue,i.scaleStepWidth)):g=o(L,F.maxSteps,F.minSteps,F.maxValue,F.minValue,w),m=b/g.steps,a(i,h,u,d)},L=function(e,t,o){function l(a){var l=-Math.PI/2,n=1,s=1;t.animation&&(t.animateScale&&(n=a),t.animateRotate&&(s=a));for(var d=0;d<e.length;d++){var c=s*(e[d].value/r)*2*Math.PI;o.beginPath(),o.arc(p/2,v/2,n*i,l,l+c),o.lineTo(p/2,v/2),o.closePath(),o.fillStyle=e[d].color,o.fill(),t.segmentShowStroke&&(o.lineWidth=t.segmentStrokeWidth,o.strokeStyle=t.segmentStrokeColor,o.stroke()),l+=c}}for(var r=0,i=n([v/2,p/2])-5,s=0;s<e.length;s++)r+=e[s].value;a(t,null,l,o)},F=function(e,t,o){function l(a){var l=-Math.PI/2,n=1,d=1;t.animation&&(t.animateScale&&(n=a),t.animateRotate&&(d=a));for(var c=0;c<e.length;c++){var u=d*(e[c].value/r)*2*Math.PI;o.beginPath(),o.arc(p/2,v/2,n*i,l,l+u,!1),o.arc(p/2,v/2,n*s,l+u,l,!0),o.closePath(),o.fillStyle=e[c].color,o.fill(),t.segmentShowStroke&&(o.lineWidth=t.segmentStrokeWidth,o.strokeStyle=t.segmentStrokeColor,o.stroke()),l+=u}}for(var r=0,i=n([v/2,p/2])-5,s=i*(t.percentageInnerCutout/100),d=0;d<e.length;d++)r+=e[d].value;a(t,null,l,o)},w=function(e,r,n){function i(a){function o(o,l){return C-a*t(e.datasets[o].data[l],b,f)}function l(o,l){return C-a*t(e.datasets[o].data[l],b,f)}function i(e){return M+F*e}for(var s=r.datasetStroke&&r.datasetStrokeWidth,d=0;d<e.datasets.length;d++){n.strokeStyle=e.datasets[d].strokeColor,n.lineWidth=s,n.beginPath(),n.moveTo(M,C-a*t(e.datasets[d].data[0],b,f));for(var c=1;c<e.datasets[d].data.length;c++)r.bezierCurve?n.bezierCurveTo(i(c-.5),o(d,c-1),i(c-.5),o(d,c),i(c),o(d,c)):n.lineTo(i(c),o(d,c));if(n.stroke(),r.datasetFill?(n.lineTo(M+F*(e.datasets[d].data.length-1),C),n.lineTo(M,C),n.closePath(),n.fillStyle=e.datasets[d].fillColor,n.fill()):n.closePath(),r.pointDot)for(var u=0;u<e.datasets[d].data.length;u++){n.fillStyle=e.datasets[d].pointColor,n.strokeStyle=e.datasets[d].pointStrokeColor,n.lineWidth=r.pointDotStrokeWidth,n.beginPath();var h=M+F*u,l=C-a*t(e.datasets[d].data[u],b,f);if(n.arc(h,l,r.pointDotRadius,0,2*Math.PI,!0),n.fill(),n.stroke(),e.datasets[d].error){n.lineWidth=r.errorStrokeWidth,n.strokeStyle=r.errorStrokeColor,n.beginPath(),n.moveTo(h,l);var S=C-a*t(e.datasets[d].data[u]+e.datasets[d].error[u],b,f),p=C-a*t(e.datasets[d].data[u]-e.datasets[d].error[u],b,f);n.lineTo(h,S),n.stroke(),n.beginPath();var v=r.errorCapWidth*r.pointDotRadius;n.moveTo(h-v/2,S),n.lineTo(h+v/2,S),n.stroke(),n.beginPath(),n.moveTo(h,l),n.lineTo(h,p),n.stroke(),n.beginPath(),n.moveTo(h-v/2,p),n.lineTo(h+v/2,p),n.stroke()}}}}function s(a){function o(o,l){return C-a*t(e.datasets[o].data[l],b,f)}function l(t,a){return M+e.datasets[t].xVal[a]/y}for(var i=0;i<e.datasets.length;i++){for(var s=0;s<e.datasets[i].data.length;s++){var d=l(i,s),c=o(i,s);if(r.pointDot&&(n.fillStyle=e.datasets[i].pointColor,n.strokeStyle=e.datasets[i].pointStrokeColor,n.lineWidth=r.pointDotStrokeWidth,n.beginPath(),n.arc(d,c,r.pointDotRadius,0,2*Math.PI,!0),n.fill(),n.stroke()),e.datasets[i].error){n.lineWidth=r.errorStrokeWidth,n.strokeStyle=r.errorStrokeColor,n.beginPath(),n.moveTo(d,c);var u=C-a*t(e.datasets[i].data[s]+e.datasets[i].error[s],b,f),h=C-a*t(e.datasets[i].data[s]-e.datasets[i].error[s],b,f);n.lineTo(d,u),n.stroke(),n.beginPath();var S=r.errorCapWidth*r.pointDotRadius;n.moveTo(d-S/2,u),n.lineTo(d+S/2,u),n.stroke(),n.beginPath(),n.moveTo(d,c),n.lineTo(d,h),n.stroke(),n.beginPath(),n.moveTo(d-S/2,h),n.lineTo(d+S/2,h),n.stroke()}if(r.connectingLine){n.strokeStyle=e.datasets[i].strokeColor,n.lineWidth=r.datasetStrokeWidth,n.beginPath(),n.moveTo(d,c);var p=l(i,s+1),v=o(i,s+1);if(!r.bezierCurve&&s+1<e.datasets[i].data.length)n.lineTo(p,v),n.stroke();else if(s+1<e.datasets[i].data.length){var m=(d+p)/2;n.bezierCurveTo(m,c,m,v,p,v),n.stroke()}}}if(e.datasets[i].trendline){for(var g=0,k=0,L=0,F=0,w=0,W=0;W<e.datasets[i].data.length;W++){var P=e.datasets[i].xVal[W],T=e.datasets[i].data[W];g+=P,k+=T,L+=P*T,F+=P*P,w+=T*T}var x=(W*L-g*k)/(W*F-g*g),B=(k-x*g)/W;if("undefined"==typeof e.datasets[i].trendlineStart)var A=e.datasets[i].xVal[0];else var A=e.datasets[i].trendlineStart;if("undefined"==typeof e.datasets[i].trendlineEnd)var O=e.datasets[i].xVal[e.datasets[i].xVal.length-1];else var O=e.datasets[i].trendlineEnd;var V=x*A+B,I=x*O+B;n.strokeStyle=e.datasets[i].strokeColor,n.lineWidth=r.datasetStrokeWidth,n.beginPath(),n.moveTo(M+A/y,C-a*t(V,b,f)),n.lineTo(M+O/y,C-a*t(I,b,f)),n.stroke()}}}function d(){n.lineWidth=r.scaleLineWidth,n.strokeStyle=r.scaleLineColor,n.beginPath(),n.moveTo(p-w/2+5,C),n.lineTo(p-w/2-W-5,C),n.stroke(),P>0?(n.save(),n.textAlign="right"):n.textAlign="center",n.fillStyle=r.labelsFontColor;for(var t=0;t<e.labels.length;t++)n.save(),P>0?(n.translate(M+t*F,C+r.scaleFontSize),n.rotate(-(P*(Math.PI/180))),n.fillText(e.labels[t],0,0),n.restore()):n.fillText(e.labels[t],M+t*F,C+r.scaleFontSize+3),n.beginPath(),n.moveTo(M+t*F,C+3),("vertical"==r.scaleShowGridLines||r.scaleShowGridLines===!0)&&t>0?(n.lineWidth=r.scaleGridLineWidth,n.strokeStyle=r.scaleGridLineColor,n.lineTo(M+t*F,5)):n.lineTo(M+t*F,C+3),n.stroke();n.lineWidth=r.scaleLineWidth,n.strokeStyle=r.scaleLineColor,n.fillStyle=r.scaleFontColor,n.beginPath(),n.moveTo(M,C+5),n.lineTo(M,5),n.stroke(),n.textAlign="right"==r.scaleLabelPosition?"left":"right",n.textBaseline="middle";var a=b.steps;r.scaleShowStartValue&&++a;for(var o=+!r.scaleShowStartValue;a>o;o++)n.beginPath(),n.moveTo(M-3,C-o*f),"horizontal"==r.scaleShowGridLines||r.scaleShowGridLines===!0?(n.lineWidth=r.scaleGridLineWidth,n.strokeStyle=r.scaleGridLineColor,n.lineTo(M+W+5,C-(o+1)*f)):n.lineTo(M-.5,C-(o+1)*f),n.stroke(),r.scaleShowLabels&&n.fillText(b.labels[o],M-8+("right"==r.scaleLabelPosition?W+20:0),C-o*f)}function c(){var t=1;if(r.scaleShowLabels){n.font=r.scaleFontStyle+" "+r.scaleFontSize+"px "+r.scaleFontFamily;for(var a=0;a<b.labels.length;a++){var o=n.measureText(b.labels[a]).width;t=o>t?o:t}t+=10}widestYLabel=t,W=p-t-w,F=W/(e.labels.length-1);var l=(r.xScaleSteps-1)*r.xScaleStepWidth;y=l/W,M=p-w/2-W,C=g+r.scaleFontSize/2}function u(){S=v,n.font=r.scaleFontStyle+" "+r.scaleFontSize+"px "+r.scaleFontFamily,w=1;for(var t=0;t<e.labels.length;t++){var a=n.measureText(e.labels[t]).width;w=a>w?a:w}p/e.labels.length<w?(P=45,p/e.labels.length<Math.cos(P)*w?(P=90,S-=w):S-=Math.sin(P)*w):S-=r.scaleFontSize,S-=5,m=r.scaleFontSize,S-=m,g=S}function h(){for(var t=Number.MIN_VALUE,a=Number.MAX_VALUE,o=0;o<e.datasets.length;o++)for(var l=0;l<e.datasets[o].data.length;l++)e.datasets[o].data[l]>t&&(t=e.datasets[o].data[l]),e.datasets[o].data[l]<a&&(a=e.datasets[o].data[l]);var r=Math.floor(g/(.66*m)),n=Math.floor(g/m*.5);return{maxValue:t,minValue:a,maxSteps:r,minSteps:n}}var S,f,b,m,g,k,L,F,w,W,y,M,C,P=0;u(),k=h(),L=r.scaleShowLabels?r.scaleLabel:"",r.scaleOverride?(b={steps:r.scaleSteps,stepValue:r.scaleStepWidth,graphMin:r.scaleStartValue,labels:[]},l(L,b.labels,b.steps,r.scaleStartValue,r.scaleStepWidth,r.scaleShowStartValue)):b=o(g,k.maxSteps,k.minSteps,k.maxValue,k.minValue,L),f=Math.floor(g/b.steps),c(),"Line"==r.chartType?a(r,d,i,n):a(r,d,s,n)},W=function(e,r,n){function i(a){n.lineWidth=r.barStrokeWidth;for(var o=0;o<e.datasets.length;o++){n.strokeStyle=e.datasets[o].strokeColor;for(var l=0;l<e.datasets[o].data.length;l++){n.save(),n.fillStyle=T(e.datasets[o].fillColor,l,e.datasets[o].data[l],a);var i=y+r.barValueSpacing+F*l+C*o+r.barDatasetSpacing*o+r.barStrokeWidth*o,s=M-a*t(e.datasets[o].data[l],b,f)+r.barStrokeWidth/2;if(n.beginPath(),n.moveTo(i,M),n.lineTo(i,s),n.lineTo(i+C,s),n.lineTo(i+C,M),r.barShowStroke&&n.stroke(),n.closePath(),n.fill(),n.restore(),r.barShowLabels){n.save(),n.textAlign="center",n.font=r.barLabelFontStyle+" "+r.barLabelFontSize+"px "+r.barLabelFontFamily;var d=r.barLabelFormatter(e.datasets[o].data[l]);n.textBaseline="bottom",n.fillStyle=r.barLabelFontColor,n.fillText(d,i+C/2,s-4),n.restore()}if(e.datasets[o].error&&"none"!=r.errorDir){if("down"!=r.errorDir){n.strokeStyle=r.errorStrokeWidth,n.beginPath(),n.moveTo(i+C/2,M-a*t(e.datasets[o].data[l],b,f)+r.barStrokeWidth/2),n.lineTo(i+C/2,M-a*t(e.datasets[o].data[l]+e.datasets[o].error[l],b,f)+r.barStrokeWidth/2),n.stroke(),n.beginPath();var c=r.errorCapWidth*C||1;capOffset=(C-c)/2,n.moveTo(i+capOffset,M-a*t(e.datasets[o].data[l]+e.datasets[o].error[l],b,f)+r.barStrokeWidth/2),n.lineTo(i+C-capOffset,M-a*t(e.datasets[o].data[l]+e.datasets[o].error[l],b,f)+r.barStrokeWidth/2),n.stroke()}if("up"!=r.errorDir){n.beginPath(),n.moveTo(i+C/2,M-a*t(e.datasets[o].data[l],b,f)+r.barStrokeWidth/2),n.lineTo(i+C/2,M-a*t(e.datasets[o].data[l]-e.datasets[o].error[l],b,f)+r.barStrokeWidth/2),n.stroke(),n.beginPath();var c=r.errorCapWidth*C||1;capOffset=(C-c)/2,n.moveTo(i+capOffset,M-a*t(e.datasets[o].data[l]-e.datasets[o].error[l],b,f)+r.barStrokeWidth/2),n.lineTo(i+C-capOffset,M-a*t(e.datasets[o].data[l]-e.datasets[o].error[l],b,f)+r.barStrokeWidth/2),n.stroke()}}}}}function s(a){n.lineWidth=r.barStrokeWidth;for(var o=0;o<e.datasets.length;o++){n.strokeStyle=e.datasets[o].strokeColor;for(var l=0;l<e.datasets[o].data.length;l++){n.fillStyle=T(e.datasets[o].fillColor,l,e.datasets[o].data[l],a);var i=y+r.barValueSpacing+F*l+C*o+r.barDatasetSpacing*o+r.barStrokeWidth*o;n.beginPath();var s=r.whiskerWidth*C||1;wisOffset=(C-s)/2;var d=i,c=i+C/2,u=i+C,h=i+wisOffset,S=i+C-wisOffset,p=function(n){return M-a*t(e.datasets[o].data[l][n],b,f)+r.barStrokeWidth/2},v=p(0),m=p(1),g=p(2),k=p(3),L=p(4);if(n.moveTo(d,m),n.lineTo(d,k),n.lineTo(u,k),n.lineTo(u,m),n.closePath(),n.stroke(),r.datasetFill&&n.fill(),n.beginPath(),n.moveTo(d,g),n.lineTo(u,g),n.stroke(),r.showWhiskers&&(n.beginPath(),n.moveTo(c,v),n.lineTo(c,m),n.stroke(),n.beginPath(),n.moveTo(h,v),n.lineTo(S,v),n.stroke(),n.beginPath(),n.moveTo(c,k),n.lineTo(c,L),n.stroke(),n.beginPath(),n.moveTo(h,L),n.lineTo(S,L),n.stroke()),r.barShowLabels){n.save(),n.textAlign="center",n.font=r.barLabelFontStyle+" "+r.barLabelFontSize+"px "+r.barLabelFontFamily,n.fillStyle=r.barLabelFontColor;var w=(r.showWhiskers?v:m)+2,W=(r.showWhiskers?L:k)-2;n.textBaseline="top";var P=r.barLabelFormatter(e.datasets[o].data[l][r.showWhiskers?0:1]);n.fillText(P,i+C/2,w),n.textBaseline="bottom",P=r.barLabelFormatter(e.datasets[o].data[l][r.showWhiskers?4:3]),n.fillText(P,i+C/2,W),n.restore()}if(void 0!==e.datasets[o].outliers&&void 0!==e.datasets[o].outliers[l]){n.save(),n.strokeStyle=r.outlierDotStrokeColor;for(var x=0;x<e.datasets[o].outliers[l].length;x++){var B=e.datasets[o].outliers[l][x],A=c,O=M-a*t(B,b,f)+r.barStrokeWidth/2;if(n.beginPath(),n.arc(A,O,r.outlierDotRadius,0,2*Math.PI),n.stroke(),"disc"==r.outlierDotStyle&&(n.fillStyle=r.outlierDotFillColor,n.fill()),r.outlierShowLabels){var V,I,z=r.outlierDotRadius+r.outlierDotStrokeWidth+r.outlierLabelMargin;switch(r.outlierLabelPlacement){case"right":n.textAlign="left",n.textBaseline="center",V=A+z,I=O;break;case"left":n.textAlign="right",n.textBaseline="center",V=A-z,I=O;break;case"top":n.textAlign="center",n.textBaseline="bottom",V=A,I=O-z;break;case"bottom":n.textAlign="center",n.textBaseline="top",V=A,I=O+z}n.font=r.outlierLabelFontStyle+" "+r.outlierLabelFontSize+"px"+r.outlierLabelFontFamily,n.fillStyle=r.outlierLabelFontColor;var P=r.outlierLabelFormatter(B);n.fillText(P,V,I)}}n.restore()}}}}function d(){n.lineWidth=r.scaleLineWidth,n.strokeStyle=r.scaleLineColor,n.beginPath(),n.moveTo(p-w/2+5,M),n.lineTo(p-w/2-W-5,M),n.stroke(),P>0?(n.save(),n.textAlign="right"):n.textAlign="center",n.fillStyle=r.scaleFontColor;for(var t=0;t<e.labels.length;t++)n.save(),P>0?(n.translate(y+t*F,M+r.scaleFontSize),n.rotate(-(P*(Math.PI/180))),n.fillText(e.labels[t],0,0),n.restore()):n.fillText(e.labels[t],y+t*F+F/2,M+r.scaleFontSize+3),n.beginPath(),n.moveTo(y+(t+1)*F,M+3),n.lineWidth=r.scaleGridLineWidth,n.strokeStyle=r.scaleGridLineColor,n.lineTo(y+(t+1)*F,5),n.stroke();n.lineWidth=r.scaleLineWidth,n.strokeStyle=r.scaleLineColor,n.beginPath(),n.moveTo(y,M+5),n.lineTo(y,5),n.stroke(),n.textAlign="right",n.textBaseline="middle";for(var a=0;a<b.steps;a++)n.beginPath(),n.moveTo(y-3,M-(a+1)*f),r.scaleShowGridLines?(n.lineWidth=r.scaleGridLineWidth,n.strokeStyle=r.scaleGridLineColor,n.lineTo(y+W+5,M-(a+1)*f)):n.lineTo(y-.5,M-(a+1)*f),n.stroke(),r.scaleShowLabels&&n.fillText(b.labels[a],y-8,M-(a+1)*f)}function c(){var t=1;if(r.scaleShowLabels){n.font=r.scaleFontStyle+" "+r.scaleFontSize+"px "+r.scaleFontFamily;for(var a=0;a<b.labels.length;a++){var o=n.measureText(b.labels[a]).width;t=o>t?o:t}t+=10}W=p-t-w,F=Math.floor(W/e.labels.length),C=(F-2*r.scaleGridLineWidth-2*r.barValueSpacing-(r.barDatasetSpacing*e.datasets.length-1)-(r.barStrokeWidth/2*e.datasets.length-1))/e.datasets.length,y=p-w/2-W,M=g+r.scaleFontSize/2}function u(){S=v,n.font=r.scaleFontStyle+" "+r.scaleFontSize+"px "+r.scaleFontFamily,w=1;for(var t=0;t<e.labels.length;t++){var a=n.measureText(e.labels[t]).width;w=a>w?a:w}p/e.labels.length<w?(P=45,p/e.labels.length<Math.cos(P)*w?(P=90,S-=w):S-=Math.sin(P)*w):S-=r.scaleFontSize,S-=5,m=r.scaleFontSize,S-=m,g=S}function h(){for(var t=Number.MIN_VALUE,a=Number.MAX_VALUE,o=0;o<e.datasets.length;o++)for(var l=0;l<e.datasets[o].data.length;l++)e.datasets[o].data[l]>t&&(t=e.datasets[o].data[l]),e.datasets[o].data[l]<a&&(a=e.datasets[o].data[l]);var r=Math.floor(g/(.66*m)),n=Math.floor(g/m*.5);return{maxValue:t,minValue:a,maxSteps:r,minSteps:n}}var S,f,b,m,g,k,L,F,w,W,y,M,C,P=0;u(),k=h(),L=r.scaleShowLabels?r.scaleLabel:"",r.scaleOverride?(b={steps:r.scaleSteps,stepValue:r.scaleStepWidth,graphMin:r.scaleStartValue,labels:[]},l(L,b.labels,b.steps,r.scaleStartValue,r.scaleStepWidth)):b=o(g,k.maxSteps,k.minSteps,k.maxValue,k.minValue,L),f=Math.floor(g/b.steps),c(),"Box"==r.chartType?a(r,d,s,n):a(r,d,i,n);var T=function(e,t,a,o){return"string"==typeof e?e:"function"==typeof e?e(a,o):"[object Array]"===Object.prototype.toString.call(e)?T(e[t%e.length],t,a,o):(this.console&&console.log("could not read fill color function, returning #000000"),"#000000")}},y=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),M={}};